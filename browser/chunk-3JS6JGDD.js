import{a as g}from"./chunk-P3K7HXJE.js";import"./chunk-2CQVPOMW.js";import{B as L,D as j,I as D,K as T,L as O,M as F,N as w,O as I,P as A,Q as V,R as G,S as q,T as B,X as P,Y as $,Z as U,_ as z,e as f,g as x,h as _,i as a,j as l,k as b,l as v,m as y,n as p,o as i,p as t,q as C,r as M,s,t as N,u as o,v as d,w as R,x as k}from"./chunk-5QNJG5PM.js";var X=r=>["/templates/edit",r];function Y(r,n){if(r&1){let e=M();i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),t(),i(5,"td")(6,"button",5),o(7,"Edit"),t(),i(8,"button",6),s("click",function(){let u=x(e).$implicit,J=N();return _(J.deleteTemplate(u.id))}),o(9,"Delete"),t()()()}if(r&2){let e=n.$implicit;a(2),d(e.name),a(2),d(e.content),a(2),p("routerLink",k(3,X,e.id))}}var h=class r{constructor(n,e){this.templateService=n;this.router=e}templates=[];ngOnInit(){this.loadTemplates()}loadTemplates(){this.templateService.getTemplates().subscribe(n=>{this.templates=n})}deleteTemplate(n){this.templateService.deleteTemplate(n).subscribe(()=>{this.loadTemplates()})}static \u0275fac=function(e){return new(e||r)(l(g),l(T))};static \u0275cmp=b({type:r,selectors:[["app-template-list"]],standalone:!1,decls:18,vars:1,consts:[[1,"container","mt-4"],["routerLink","/templates/add",1,"btn","btn-primary","mb-3"],["routerLink","/client",1,"btn","btn-primary","mb-3","mx-3"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"btn","btn-warning","btn-sm",3,"routerLink"],[1,"btn","btn-danger","btn-sm","ms-2",3,"click"]],template:function(e,m){e&1&&(i(0,"div",0)(1,"h2"),o(2,"Template Messages"),t(),i(3,"button",1),o(4,"Add Template"),t(),i(5,"button",2),o(6,"Back"),t(),i(7,"table",3)(8,"thead")(9,"tr")(10,"th"),o(11,"Name"),t(),i(12,"th"),o(13,"Content"),t(),i(14,"th"),o(15,"Actions"),t()()(),i(16,"tbody"),y(17,Y,10,5,"tr",4),t()()()),e&2&&(a(17),p("ngForOf",m.templates))},dependencies:[L,O],encapsulation:2})};var c=class r{constructor(n,e,m,u){this.fb=n;this.templateService=e;this.router=m;this.route=u;this.templateForm=this.fb.group({name:["",I.required],content:["",I.required]})}templateForm;isEditMode=!1;templateId=null;ngOnInit(){this.templateId=this.route.snapshot.paramMap.get("id"),this.templateId&&(this.isEditMode=!0,this.templateService.getTemplates().subscribe(n=>{let e=n.find(m=>m.id===this.templateId);e&&this.templateForm.patchValue(e)}))}onSubmit(){if(this.templateForm.valid){let n=this.templateForm.value;this.isEditMode&&this.templateId?this.templateService.updateTemplate(this.templateId,n).subscribe(()=>{this.router.navigate(["/templates"])}):this.templateService.createTemplate(n).subscribe(()=>{this.router.navigate(["/templates"])})}}static \u0275fac=function(e){return new(e||r)(l($),l(g),l(T),l(D))};static \u0275cmp=b({type:r,selectors:[["app-template-form"]],standalone:!1,decls:16,vars:4,consts:[[1,"container","mt-4"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","name"],["type","text","id","name","formControlName","name","required","",1,"form-control"],["for","content"],["id","content","formControlName","content","required","",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],["type","button",1,"btn","btn-secondary","mt-3","ms-2",3,"click"]],template:function(e,m){e&1&&(i(0,"div",0)(1,"h2"),o(2),t(),i(3,"form",1),s("ngSubmit",function(){return m.onSubmit()}),i(4,"div",2)(5,"label",3),o(6,"Name"),t(),C(7,"input",4),t(),i(8,"div",2)(9,"label",5),o(10,"Content"),t(),C(11,"textarea",6),t(),i(12,"button",7),o(13),t(),i(14,"button",8),s("click",function(){return m.router.navigate(["/templates"])}),o(15,"Cancel"),t()()()),e&2&&(a(2),d(m.isEditMode?"Edit Template":"Add Template"),a(),p("formGroup",m.templateForm),a(9),p("disabled",m.templateForm.invalid),a(),R(" ",m.isEditMode?"Update Template":"Add Template"," "))},dependencies:[G,w,A,V,P,q,B],encapsulation:2})};var Z=[{path:"",component:h},{path:"add",component:c},{path:"edit/:id",component:c}],S=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=v({type:r});static \u0275inj=f({imports:[F.forChild(Z),F]})};var H=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=v({type:r});static \u0275inj=f({imports:[j,S,U,z]})};export{H as TemplatesModule};
